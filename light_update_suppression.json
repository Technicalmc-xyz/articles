[{"children":[{"text":"Light update suppression is the delaying of light updates and then stopping the server to effectively delete them."}],"id":1629675869792,"type":"p"},{"children":[{"text":""}],"id":1629676958085,"type":"p"},{"children":[{"text":"Technical explaination"}],"id":1629675869802,"type":"h1"},{"children":[{"text":"When a light update is produced via a block being moved, placed or broken it is placed in a queue for the light thread to process. Then when the light thread gets to the update it is processed and the light level is changed. How light update suppression works is it overloads that queue; delaying the processing of light updates. Then when the server is stopped the unprocessed light updates are never processed and the light level is wrong."}],"id":1629675869807,"type":"p"},{"children":[{"text":""}],"id":1629676978491,"type":"p"},{"children":[{"text":"Use"}],"id":1629675869812,"type":"h1"},{"children":[{"children":[{"children":[{"text":"A light suppression machine is run. This typically consists of flashing redstone lamps or, in older light update suppressors, moving blocks. Light updates from light sources typically take longer to process."}],"id":1629675869863,"type":"lic"}],"id":1629675869818,"type":"li"},{"children":[{"children":[{"text":"After aproximatly 20k light updates in the queue the machine is stopped. Normally this length of queue is around 3 seconds to process a light update. Any longer and the server will slow down to let the light thread catch up. "}],"id":1629675869829,"type":"lic"}],"id":1629675869818,"type":"li"},{"children":[{"children":[{"text":"A light update that is to be delted is produced."}],"id":1629678023001,"type":"lic"}],"id":1629678023001,"type":"li"},{"children":[{"children":[{"text":"The server is stopped either through the "},{"code":true,"text":"/stop"},{"text":" command or crashing with an update suppressor. Results with "},{"code":true,"text":"/stop"},{"text":" can be inconsisitant so "},{"code":true,"text":"/save-all flush"},{"text":" can be ran before to fix that. "}],"id":1629678039505,"type":"lic"}],"id":1629678039504,"type":"li"}],"id":1629675869818,"type":"ol"},{"children":[{"text":""}],"id":1629677976878,"type":"p"},{"children":[{"text":"History"}],"id":1629678268881,"type":"h1"},{"children":[{"text":"In 1.17 a basic form of thread syncing was added limiting the light queue to about 20k light updates. Prevously the light update queue was could be as big as the server's alocated memory."}],"id":1629678277458,"type":"p"},{"children":[{"text":""}],"id":1629678277004,"type":"p"}]